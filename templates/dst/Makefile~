
min-rt.run: min-rt.bin
	simulator/simulator min-rt.bin < base.sld > base.ppm

min-rt.bin: min-rt.s
	assembler/assembler min-rt.s min-rt.bin

min-rt.s: global.ml min-rt.ml compiler/min-caml
	cat lib_ml.ml globals.ml min-rt.ml > tmp.ml
	compiler/min-caml tmp
#	../../min-caml.opt -inline 250 tmp
	java linker lib_asm.s tmp.s min-rt.s
	rm tmp.ml tmp.s
